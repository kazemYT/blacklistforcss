// css_fun_car.cfg
// Counter-Strike: Source fun car config (cheats required)
// Usage:
// 1) Put this file into .../cstrike/cfg/
// 2) In game: sv_cheats 1
// 3) In console: exec css_fun_car
// 4) Aim at the ground and run: car_spawn

// ---------------------------
// Quick binds
// ---------------------------
bind "F6" "car_spawn"
bind "F7" "car_cleanup"
bind "F8" "car_horn"
bind "F9" "car_music_toggle"
bind "F10" "car_vscript_demo"

alias car_help "echo === CSS FUN CAR ===; echo F6 car_spawn ^| F7 car_cleanup ^| F8 horn ^| F9 music ^| F10 vscript; echo To drive: look at buggy and press E"

// ---------------------------
// Cleanup (remove previous car + fx)
// ---------------------------
alias car_cleanup "ent_fire css_buggy kill; ent_fire css_car_engine kill; ent_fire css_car_light kill; ent_fire css_car_sparks kill; echo [car] cleanup done"

// ---------------------------
// Spawn drivable buggy + effects
// ---------------------------
alias car_spawn "car_cleanup; ent_create prop_vehicle_driveable model models/buggy.mdl vehiclescript scripts/vehicles/jeep_test.txt targetname css_buggy; wait 5; ent_fire css_buggy addoutput \"EnableGun 0\"; ent_fire css_buggy addoutput \"VehicleLocked 0\"; ent_fire css_buggy addoutput \"ignorenormals 1\"; car_fx; echo [car] buggy spawned (press E to drive)"

// ---------------------------
// FX: engine sound, light and sparks for style
// ---------------------------
alias car_fx "ent_create ambient_generic targetname css_car_engine message vehicles/v8/vehicle_idle_loop1.wav health 10 spawnflags 49; wait 2; ent_fire css_car_engine PlaySound; ent_create light_dynamic targetname css_car_light _light 255 220 180 180 brightness 2 distance 180; ent_fire css_car_light TurnOn; ent_create env_spark targetname css_car_sparks Magnitude 1 TrailLength 1; ent_fire css_car_sparks StartSpark"

alias car_music_toggle "ent_fire css_car_engine ToggleSound"
alias car_horn "playvol vehicles/v8/skid_highfriction.wav 0.6"

// ---------------------------
// VScript / script command demo bridge
// (works only if your build supports script command)
// ---------------------------
alias car_vscript_demo "script printl(\"[car cfg] script command works\"); script local c=Entities.FindByName(null,\"css_buggy\"); if(c!=null){printl(\"[car cfg] buggy exists\");}"

car_help
echo [car] css_fun_car.cfg loaded
